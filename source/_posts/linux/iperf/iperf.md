---
title: iperf
date: 2025年 3月26日 星期三 12时13分20秒 CST
tags: [linux]
categories: linux iperf
---

### iperf
```bash
默认 （客户端 -> 服务端）

服务端：
iperf3 -s

客户端：
iperf3 -c ip
反向（服务端 -> 客户端 ）
iperf3 -c ip -R
```

| 选项 | 作用 |
|------|------|
| `-s` | 服务器模式 |
| `-c <IP>` | 连接到服务器 |
| `-p <端口>` | 指定端口（默认 5201） |
| `-t <秒数>` | 设定测试时长（默认 10s） |
| `-P <连接数>` | 设定并行连接数 |
| `-u` | 使用 UDP 协议 |
| `-b <带宽>` | 设定 UDP 发送速率 |
| `-R` | 反向测试（服务器 → 客户端） |
| `--bidir` | 双向同时测试 |
| `-D` | 服务器后台运行 |
| `-V` | 详细日志 |
| `-f [kmgtKMGT]` | 设定带宽单位（K/M/G/T 比特） |
| `-i <秒数>` | 设定报告间隔时间 |
| `-F <文件名>` | 传输指定文件 |
| `-A <核心号>` | 绑定到指定 CPU 核心 |
| `-B <IP>` | 绑定到指定 IP 地址 |
| `--bind-dev <设备>` | 绑定到指定网络设备 |
| `-J` | 以 JSON 格式输出 |
| `--json-stream` | 以流式 JSON 输出 |
| `--logfile <文件>` | 输出日志到文件 |
| `--forceflush` | 每个间隔强制刷新输出 |
| `--timestamps` | 在每行输出前添加时间戳 |
| `-d` | 输出调试信息 |
| `-v` | 显示版本信息 |
| `-h` | 显示帮助信息 |
| `-n <字节数>` | 设定传输的字节数 |
| `-k <数据包数>` | 设定传输的数据包数 |
| `-l <数据块大小>` | 设定单次传输的数据块大小 |
| `--cport <端口>` | 绑定到特定的客户端端口 |
| `-w <窗口大小>` | 设定 TCP 窗口大小 |
| `-C <算法>` | 设定 TCP 拥塞控制算法 |
| `-M <MSS>` | 设定 TCP/SCTP 最大段大小 |
| `-N` | 禁用 Nagle 算法 |
| `-4` | 仅使用 IPv4 |
| `-6` | 仅使用 IPv6 |
| `-S <值>` | 设定 IP ToS（服务类型） |
| `--dscp <值>` | 设定 DSCP（流量优先级） |
| `-Z` | 使用零拷贝传输 |
| `-O <秒数>` | 预热测试，忽略前 N 秒统计数据 |
| `-T <标题>` | 在输出前添加自定义标题 |
| `--get-server-output` | 获取服务器端结果 |
| `--udp-counters-64bit` | 使用 64 位 UDP 计数器 |
| `--repeating-payload` | 使用重复模式的有效载荷 |
| `--dont-fragment` | 设置 IPv4 不分片标志 |
| `--username <用户>` | 认证用户名 |
| `--rsa-public-key-path <文件>` | RSA 公钥路径（认证） |
